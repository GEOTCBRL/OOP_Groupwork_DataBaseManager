## 实验报告

### 基础功能

实现了所有的5个基础功能，通过了OJ提供的测试样例。

### 拓展功能

#### 功能1： 多表查询（拓展1）

​	实现的巧妙之处：将需要查询的多个表做笛卡儿积，建立出一个新的表，在这个表上利用实现好的接口进行查询操作。

​	有待改进之处：建立新表的空间消耗较大。

#### 功能2：实现SQL数字函数（拓展3）

​	DatabaseExt中将所有的数字函数整合为gatherFunction()，只需在该函数中继承/增加实现即可增加更多的数字函数。

​	实现得好的地方：算法各阶段的抽象性较高，扩展性强。

#### 功能3： 实现SQL运算符（拓展5）

​	有待改进之处：由于使用的代码框架过度封装，导致不得不修改最底层类（Variant）的实现，可以考虑对运算符使用策略模式，但这样将会导致大范围重构。

#### 功能4：实现SQL逻辑运算符（扩展6）

​	有待改进之处：同功能3。

#### 功能5：实现数据库的存档功能（扩展8）

​	数据库中的所有数据都是实时读入/输出的，在当前工作目录下的/data/文件夹可以看到[/数据库/数据表]这样的结构的文件存储。

#### 功能6：支持LIKE子句进行模糊搜索（扩展9）

​	通过构造正则表达式来支持了SQL LIKE的4种使用方式。

​	实现得好的地方：使用了正则表达式。

​	有待改进之处：因为LIKE也是运算符，所以待改进处同功能3。

#### 功能7: 支持数据库的远程访问（拓展10）

​	实现得好的地方：支持WINDOWS/UNIX(LINUX, MAC OS)系统下的远程链接，客户端可以正常访问服务器上的以上所有实现的基础功能和拓展功能。

​	使用方式：

​	可在shellserver.cpp里更改服务器的IP和监视端口，默认是127.0.0.1的1234端口。

​	编译出server和client之后，先运行server，然后运行client，client运行时可以附带参数，第一个参数是服务器IP，第二个参数是服务器端口。默认也是127.0.0.1的1234端口。

​	接着就可以正常使用客户端来远程调用服务器，执行一切本数据库支持的命令，而所有的数据都会被保存在服务器的目录下。

​	SELECT INTO语句与LOAD语句仍然是以client的运行目录作为CWD的。

